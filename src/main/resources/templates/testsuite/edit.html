<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout-user}"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<title>テストスイート更新フォーム</title>
</head>
<body>
	<div layout:fragment="content">
		<ul class="breadcrumb">
			<li class="breadcrumb-item"><a th:href="@{/user}">ユーザーページ</a></li>	
			<li class="breadcrumb-item active">テストスイート更新フォーム</li>
		</ul>
		<h2>テストスイート更新フォーム</h2>
		<form class="mt-4" method="post" th:action="@{/testsuite/edit/} + ${suiteId}" th:object="${testsuiteForm}">
			<div class="form-group d-flex flex-row flex-wrap">
				<label class="col-sm-4" for="suiteName">テストスイート名</label>
				<input class="col-sm-6" type="text" th:field="*{suiteName}" th:errorclass="is-invalid" required />
				<div class="col-sm-8 ml-auto invalid-feedback" th:errors="*{suiteName}"></div>
			</div>
			<div class="form-group d-flex flex-row">
				<label class="col-sm-4" for="assignUsers">アサインユーザー</label>
				<select class="col-sm-6" name="assignUsers" id="assignUsers" multiple>
					<option th:each="u : ${users}" th:if="${#strings.contains(testsuiteForm.assignUsers, u.userId)}" th:value="${u.userId}" th:text="${u.userName}" selected></option>
					<option th:each="u : ${users}" th:unless="${#strings.contains(testsuiteForm.assignUsers, u.userId)}" th:value="${u.userId}" th:text="${u.userName}"></option>
				</select>
			</div>
			<div class="form-group text-center">
				<button class="btn btn-danger" type="submit" name="delete">削除</button>
				<button class="btn btn-primary" type="submit" name="update">更新</button>
			</div>
		</form>
	</div>
</body>
</html>
